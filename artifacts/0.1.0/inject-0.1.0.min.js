/*
Inject (c) 2011 Jakob Heuser [https://github.com/jakobo/inject] MIT License
JSON Public Domain
Porthole (c) 2011 Ternary Labs [https://github.com/ternarylabs/porthole] MIT License
Persist (c) 2008 Paul Duncan (paul@pablotron.org) MIT License
*/

(function(){var t,y,d,J,O,P,o,D,q,Q,R,S,u,l,p,T,E,U,V,K,F,w,G,W,X,z,A,Y,Z,$,aa,ba,L,M,x,ca=Array.prototype.slice;q=this;X=q.inject;A=!1;F=[];o={};ba=function(a){return o=a};M={};G={};E=function(a){return G[a]||!1};Z=function(a,b){return G[a]?void 0:G[a]=b};p=l=null;T=function(a,b){p||(p=new y.Store("Inject FileStorage"));return l?l[a]?b(!0,l[a]):b(!1,null):p.get("FILEDB",function(c,h){return c&&typeof h==="string"&&h.length>1?(l=t.parse(h),l[a]?b(!0,l[a]):b(!1,null)):(l={},b(!1,null))})};Y=function(a,
b){p||(p=new y.Store("Inject FileStorage"));if(!(l[a]&&l[a].length>1))return l[a]=b,p.set("FILEDB",t.stringify(l))};P=function(){p||(p=new y.Store("Inject FileStorage"));p.set("FILEDB","");return l={}};Q=0;S=function(){return"txn_"+Q++};x=null;R=function(){var a,b,c,h,j,e,f,g;j=/^(.+?)[\s](.+?)[\s](.+?)[\s]([\w\W]+)$/m;a=/^https?:\/\//;b=/^(.*?)(\/.*|$)/;e=o!=null?(h=o.xd)!=null?h.xhr:void 0:void 0;h=o!=null?(g=o.xd)!=null?g.inject:void 0:void 0;if(!e)throw Error("Configuration requires xd.remote to be defined");
if(!h)throw Error("Configuration requires xd.local to be defined");f=function(f){return f=f.replace(a,"").replace(b,"$1")};try{c=document.createElement('<iframe name="injectProxy"/>')}catch(n){c=document.createElement("iframe")}c.name="injectProxy";c.src=e+"#xhr";c.style.width=c.style.height="1px";c.style.right=c.style.bottom="0px";c.style.position="absolute";c.id="injectProxy";document.body.insertBefore(c,document.body.firstChild);x=new d.WindowProxy(o.xd.xhr+"#xhr","injectProxy");return x.addEventListener(function(a){var g,
b;if(f(a.origin)===f(o.xd.xhr))if(a.data==="READY"){x.postMessage("READYREADY");A=!1;for(g=0,b=F.length;g<b;g++)a=F[g],a()}else return a=a.data.match(j),z(a[1],a[2],a[3],a[4])})};D={config:function(a){if(!a.path)throw Error("Config requires at least path to be set");if(typeof a.path==="string"&&a.path.lastIndexOf("/")!==a.path.length)a.path=""+a.path+"/";ba(a);return D},modules:function(a){setModules(a);return D},clear:function(){return P()},noConflict:function(){var a;a=q.inject;q.inject=X;return a}};
w={};V=/.*?\.js$/;W=function(a){var b,c;c=a;b=o.path||"";if(w[a])return w[a];if(M[a])return a=M[a],w[c]=a;if(typeof b==="function")return a=b(a),w[c]=a;if(a.indexOf("http")===0||a.indexOf("https")===0)return w[c]=a;if(a.indexOf("/")!==0&&typeof b==="undefined")throw Error("Path must be defined");a.indexOf("/")!==0&&typeof b==="string"&&(a=""+o.path+a);V.test(a)||(a=""+a+".js");return w[c]=a};J={};L={};u={};K=function(a,b){var c,h,d,e,f,g;e=S();d={};for(f=0,g=a.length;f<g;f++)c=a[f],d[c]=W(c);L[e]=
a;J[e]=b;f=[];for(c in d)h=d[c],u[h]||(u[h]={txns:[],loading:!1}),E(c)&&(d[c]=E(c)),f.push(T(h,function(a,f){u[h].txns.push(e);if(a&&typeof f==="string"&&f.length>1)return z(e,c,h,f);else if(!u[h].loading)return u[h].loading=!0,o.xd!=null?$(e,c,h,z):aa(e,c,h,z)}));return f};z=function(a,b,c,h){var d,e,f;e=""+'(function() {\n  var module = {}, exports = {}, require = function(modl) { return getModule(modl); }, exe = null;\n  module.id = "__MODULE_ID__";\n  module.uri = "__MODULE_URI__";\n  module.exports = exports;\n  exe = function(module, exports, require) {'.replace(/__MODULE_ID__/g,
b).replace(/__MODULE_URI__/g,c)+"\n"+h+"\n};\nexe.call(module, module, exports, require);\nreturn module.exports;\n})();";d=[];h.replace(/.*?require[\s]*\([\s]*("|')([\w\\\.\:]+?)('|")[\s]*\).*?/gm,function(){var a;a=1<=arguments.length?ca.call(arguments,0):[];return d.push(a[2])});f=function(){var a,f,B,d,N;try{a=eval(e)}catch(s){throw s;}Z(b,a);Y(c,h);u[c].loading=!1;d=u[c].txns;N=[];for(f=0,B=d.length;f<B;f++)a=d[f],N.push(O(a));return N};return d.length>0?K(d,function(){return f()}):f()};O=function(a){var b,
c,d,j,e,f;c=!0;b=J[a];j=[];f=L[a];for(a=0,e=f.length;a<e;a++)if(d=f[a],d=E(d),d===!1?c=!1:j.push(d),!c)break;if(c)return b.call(q,j)};aa=function(a,b,c,d){var j;j=U();j.open("GET",c);j.onreadystatechange=function(){if(j.readyState===4&&j.status===200)return d.call(q,a,b,c,j.responseText)};return j.send(null)};$=function(a,b,c){return x.postMessage(""+a+" "+b+" "+c)};U=function(){var a;a=!1;if(typeof XMLHttpRequest!=="undefined")try{a=new XMLHttpRequest}catch(b){a=!1}if(!a&&typeof window.createRequest!==
"undefined")try{a=new window.createRequest}catch(c){a=!1}if(!a)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(j){a=!1}}if(!a)throw Error("Could not create an xmlHttpRequest Object");return a};q.inject=function(){var a,b,c;a=1<=arguments.length?ca.call(arguments,0):[];if(a.length===0)return D;if(typeof a[a.length-1]!=="function")throw Error("Last argument must be a function");b=a.pop();o.xd!=null&&!x&&!A&&(R(),A=!0);c=function(){return K(a,function(a){return b.apply(q,
a)})};return A?F.push(c):c()};d=null;d=typeof d=="undefined"||!d?{}:d;d={trace:function(){},error:function(a){try{console.error("Porthole: "+a)}catch(b){}},WindowProxy:function(){}};d.WindowProxy.prototype={postMessage:function(){},addEventListener:function(){},removeEventListener:function(){}};d.WindowProxyLegacy=function(a,b){b===void 0&&(b="");this.targetWindowName=b;this.eventListeners=[];this.origin=window.location.protocol+"//"+window.location.host;a!==null?(this.proxyIFrameName=this.targetWindowName+
"ProxyIFrame",this.proxyIFrameLocation=a,this.proxyIFrameElement=this.createIFrameProxy()):this.proxyIFrameElement=null};d.WindowProxyLegacy.prototype={getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},createIFrameProxy:function(){var a=document.createElement("iframe");a.setAttribute("id",this.proxyIFrameName);a.setAttribute("name",this.proxyIFrameName);a.setAttribute("src",this.proxyIFrameLocation);a.setAttribute("frameBorder","1");a.setAttribute("scrolling",
"auto");a.setAttribute("width",30);a.setAttribute("height",30);a.setAttribute("style","position: absolute; left: -100px; top:0px;");a.style.setAttribute&&a.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;");document.body.appendChild(a);return a},postMessage:function(a,b){b===void 0&&(b="*");this.proxyIFrameElement===null?d.error("Can't send message because no proxy url was passed in the constructor"):(sourceWindowName=window.name,this.proxyIFrameElement.setAttribute("src",
this.proxyIFrameLocation+"#"+a+"&sourceOrigin="+escape(this.getOrigin())+"&targetOrigin="+escape(b)+"&sourceWindowName="+sourceWindowName+"&targetWindowName="+this.targetWindowName),this.proxyIFrameElement.height=this.proxyIFrameElement.height>50?50:100)},addEventListener:function(a){this.eventListeners.push(a);return a},removeEventListener:function(a){try{this.eventListeners.splice(this.eventListeners.indexOf(a),1)}catch(b){this.eventListeners=[],d.error(b)}},dispatchEvent:function(a){for(var b=
0;b<this.eventListeners.length;b++)try{this.eventListeners[b](a)}catch(c){d.error("Exception trying to call back listener: "+c)}}};d.WindowProxyHTML5=function(a,b){b===void 0&&(b="");this.targetWindowName=b};d.WindowProxyHTML5.prototype={postMessage:function(a,b){b===void 0&&(b="*");targetWindow=this.targetWindowName===""?top:parent.frames[this.targetWindowName];targetWindow.postMessage(a,b)},addEventListener:function(a){window.addEventListener("message",a,!1);return a},removeEventListener:function(a){window.removeEventListener("message",
a,!1)},dispatchEvent:function(a){var b=document.createEvent("MessageEvent");b.initMessageEvent("message",!0,!0,a.data,a.origin,1,window,null);window.dispatchEvent(b)}};typeof window.postMessage!="function"?(d.trace("Using legacy browser support"),d.WindowProxy=d.WindowProxyLegacy,d.WindowProxy.prototype=d.WindowProxyLegacy.prototype):(d.trace("Using built-in browser support"),d.WindowProxy=d.WindowProxyHTML5,d.WindowProxy.prototype=d.WindowProxyHTML5.prototype);d.WindowProxy.splitMessageParameters=
function(a){if(typeof a=="undefined"||a===null)return null;var b=[],a=a.split(/&/),c;for(c in a){var d=a[c].split("=");b[d[0]]=typeof d[1]=="undefined"?"":d[1]}return b};d.MessageEvent=function(a,b,c){this.data=a;this.origin=b;this.source=c};d.WindowProxyDispatcher={forwardMessageEvent:function(a){a=document.location.hash;if(a.length>0){a=a.substr(1);m=d.WindowProxyDispatcher.parseMessage(a);targetWindow=m.targetWindowName===""?top:parent.frames[m.targetWindowName];var b=d.WindowProxyDispatcher.findWindowProxyObjectInWindow(targetWindow,
m.sourceWindowName);b?b.origin==m.targetOrigin||m.targetOrigin=="*"?(a=new d.MessageEvent(m.data,m.sourceOrigin,b),b.dispatchEvent(a)):d.error("Target origin "+b.origin+" does not match desired target of "+m.targetOrigin):d.error("Could not find window proxy object on the target window")}},parseMessage:function(a){if(typeof a=="undefined"||a===null)return null;params=d.WindowProxy.splitMessageParameters(a);var b={targetOrigin:"",sourceOrigin:"",sourceWindowName:"",data:""};b.targetOrigin=unescape(params.targetOrigin);
b.sourceOrigin=unescape(params.sourceOrigin);b.sourceWindowName=unescape(params.sourceWindowName);b.targetWindowName=unescape(params.targetWindowName);a=a.split(/&/);if(a.length>3)a.pop(),a.pop(),a.pop(),a.pop(),b.data=a.join("&");return b},findWindowProxyObjectInWindow:function(a,b){a.RuntimeObject&&(a=a.RuntimeObject());if(a)for(var c in a)try{if(a[c]!==null&&typeof a[c]=="object"&&a[c]instanceof a.Porthole.WindowProxy&&a[c].getTargetWindowName()==b)return a[c]}catch(d){}return null},start:function(){window.addEventListener?
window.addEventListener("resize",d.WindowProxyDispatcher.forwardMessageEvent,!1):document.body.attachEvent?window.attachEvent("onresize",d.WindowProxyDispatcher.forwardMessageEvent):d.error("Can't attach resize event")}};(t=q.JSON||null)||(t={});(function(){function a(a){return a<10?"0"+a:a}function b(a){j.lastIndex=0;return j.test(a)?'"'+a.replace(j,function(a){var f=g[a];return typeof f==="string"?f:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,g){var d,s,v,
H,I=e,h,k=g[a];k&&typeof k==="object"&&typeof k.toJSON==="function"&&(k=k.toJSON(a));typeof n==="function"&&(k=n.call(g,a,k));switch(typeof k){case "string":return b(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";e+=f;h=[];if(Object.prototype.toString.apply(k)==="[object Array]"){H=k.length;for(d=0;d<H;d+=1)h[d]=c(d,k)||"null";v=h.length===0?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+I+"]":"["+h.join(",")+"]";e=I;return v}if(n&&
typeof n==="object"){H=n.length;for(d=0;d<H;d+=1)typeof n[d]==="string"&&(s=n[d],(v=c(s,k))&&h.push(b(s)+(e?": ":":")+v))}else for(s in k)Object.prototype.hasOwnProperty.call(k,s)&&(v=c(s,k))&&h.push(b(s)+(e?": ":":")+v);v=h.length===0?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+I+"}":"{"+h.join(",")+"}";e=I;return v}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+
a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",
'"':'\\"',"\\":"\\\\"},n;if(typeof t.stringify!=="function")t.stringify=function(a,g,b){var d;f=e="";if(typeof b==="number")for(d=0;d<b;d+=1)f+=" ";else typeof b==="string"&&(f=b);if((n=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw Error("JSON.stringify");return c("",{"":a})};if(typeof t.parse!=="function")t.parse=function(a,f){function g(a,b){var d,n,c=a[b];if(c&&typeof c==="object")for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(n=g(c,d),n!==void 0?c[d]=
n:delete c[d]);return f.call(a,b,c)}var b,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+a+")"),typeof f==="function"?g({"":b},""):b;throw new SyntaxError("JSON.parse");}})();y=null;y=function(){var a,b,c,d,j,e;
e=function(){var a=["expires","path","domain"],g=escape,b=unescape,d=document,c,e=function(b,d){var c,n,B,e=[],h=arguments.length>2?arguments[2]:{};e.push(g(b)+"="+g(d));for(c=0;c<a.length;c++)n=a[c],(B=h[n])&&e.push(n+"="+B);h.secure&&e.push("secure");return e.join("; ")};c={set:function(a,f){var g=arguments.length>2?arguments[2]:{},b=new Date;b.setTime(b.getTime());var c={};if(g.expires)g.expires*=864E5,c.expires=new Date(b.getTime()+g.expires),c.expires=c.expires.toGMTString();b=["path","domain",
"secure"];for(i=0;i<b.length;i++)g[b[i]]&&(c[b[i]]=g[b[i]]);g=e(a,f,c);d.cookie=g;return f},has:function(a){var a=g(a),f=d.cookie,b=f.indexOf(a+"="),f=f.substring(0,a.length);return!b&&a!=f||b<0?!1:!0},get:function(a){var a=g(a),f=d.cookie,c=f.indexOf(a+"="),e=c+a.length+1,h=f.substring(0,a.length);if(!c&&a!=h||c<0)return null;a=f.indexOf(";",e);if(a<0)a=f.length;return b(f.substring(e,a))},remove:function(a){var f=c.get(a);d.cookie=e(a,"",{expires:"Thu, 01-Jan-1970 00:00:01 GMT"});return f},keys:function(){var a=
d.cookie.split("; "),f,g,c=[];for(f=0;f<a.length;f++)g=a[f].split("="),c.push(b(g[0]));return c},all:function(){var a=d.cookie.split("; "),f,g,c=[];for(f=0;f<a.length;f++)g=a[f].split("="),c.push([b(g[0]),b(g[1])]);return c},version:"0.2.1",enabled:!1};c.enabled=function(){var a=new Date,a=a.toGMTString();this.set("__EC_TEST__",a);return this.enabled=this.remove("__EC_TEST__")==a}.call(c);return c}();j=function(){};c=function(a){return"PS"+a.replace(/_/g,"__").replace(/ /g,"_s")};C={search_order:"gears,localstorage,whatwg_db,globalstorage,flash,ie,cookie".split(","),
name_re:/^[a-z][a-z0-9_ -]+$/i,methods:"init,get,set,remove,load,save".split(","),sql:{version:"1",create:"CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",get:"SELECT v FROM persist_data WHERE k = ?",set:"INSERT INTO persist_data(k, v) VALUES (?, ?)",remove:"DELETE FROM persist_data WHERE k = ?"},flash:{div_id:"_persist_flash_wrap",id:"_persist_flash",path:"persist.swf",size:{w:1,h:1},args:{autostart:!0}}};b={gears:{size:-1,test:function(){return window.google&&
window.google.gears?!0:!1},methods:{transaction:function(a){var g=this.db;g.execute("BEGIN").close();a.call(this,g);g.execute("COMMIT").close()},init:function(){var a;a=this.db=google.gears.factory.create("beta.database");a.open(c(this.name));a.execute(C.sql.create).close()},get:function(a,g,b){var c,d=C.sql.get;g&&this.transaction(function(e){c=e.execute(d,[a]);c.isValidRow()?g.call(b||this,!0,c.field(0)):g.call(b||this,!1,null);c.close()})},set:function(a,g,b,c){var d=C.sql.remove,e=C.sql.set;this.transaction(function(h){h.execute(d,
[a]).close();h.execute(e,[a,g]).close();b&&b.call(c||this,!0,g)})},remove:function(a,g,b){var c=C.sql.get;sql=C.sql.remove;this.transaction(function(d){g?(r=d.execute(c,[a]),r.isValidRow()?(val=r.field(0),d.execute(sql,[a]).close(),g.call(b||this,!0,val)):g.call(b||this,!1,null),r.close()):d.execute(sql,[a]).close()})}}},whatwg_db:{size:204800,test:function(){return!window.openDatabase?!1:!window.openDatabase("PersistJS Test",C.sql.version,"Persistent database test.",b.whatwg_db.size)?!1:!0},methods:{transaction:function(a){if(!this.db_created){var g=
C.sql.create;this.db.transaction(function(a){a.executeSql(g,[],function(){this.db_created=!0})},j)}this.db.transaction(a)},init:function(){this.db=openDatabase(this.name,C.sql.version,this.o.about||"Persistent storage for "+this.name,this.o.size||b.whatwg_db.size)},get:function(a,g,b){var c=C.sql.get;g&&(b=b||this,this.transaction(function(d){d.executeSql(c,[a],function(a,f){f.rows.length>0?g.call(b,!0,f.rows.item(0).v):g.call(b,!1,null)})}))},set:function(a,b,c,d){var e=C.sql.remove,h=C.sql.set;
this.transaction(function(j){j.executeSql(e,[a],function(){j.executeSql(h,[a,b],function(){c&&c.call(d||this,!0,b)})})});return b},remove:function(a,b,c){var d=C.sql.get;sql=C.sql.remove;this.transaction(function(e){b?e.executeSql(d,[a],function(d,e){if(e.rows.length>0){var h=e.rows.item(0).v;d.executeSql(sql,[a],function(){b.call(c||this,!0,h)})}else b.call(c||this,!1,null)}):e.executeSql(sql,[a])})}}},globalstorage:{size:5242880,test:function(){return window.globalStorage?!0:!1},methods:{key:function(a){return c(this.name)+
c(a)},init:function(){this.store=globalStorage[this.o.domain]},get:function(a,b,c){a=this.key(a);b&&b.call(c||this,!0,this.store.getItem(a))},set:function(a,b,c,d){a=this.key(a);this.store.setItem(a,b);c&&c.call(d||this,!0,b)},remove:function(a,b,c){var d,a=this.key(a);d=this.store[a];this.store.removeItem(a);b&&b.call(c||this,d!==null,d)}}},localstorage:{size:-1,test:function(){return window.localStorage?!0:!1},methods:{key:function(a){return c(this.name)+c(a)},init:function(){this.store=localStorage},
get:function(a,b,c){a=this.key(a);b&&b.call(c||this,!0,this.store.getItem(a))},set:function(a,b,c,d){a=this.key(a);this.store.setItem(a,b);c&&c.call(d||this,!0,b)},remove:function(a,b,c){var d,a=this.key(a);d=this.getItem(a);this.store.removeItem(a);b&&b.call(c||this,d!==null,d)}}},ie:{prefix:"_persist_data-",size:65536,test:function(){return window.ActiveXObject?!0:!1},make_userdata:function(a){var b=document.createElement("div");b.id=a;b.style.display="none";b.addBehavior("#default#userData");document.body.appendChild(b);
return b},methods:{init:function(){var a=b.ie.prefix+c(this.name);this.el=b.ie.make_userdata(a);this.o.defer&&this.load()},get:function(a,b,d){a=c(a);this.o.defer||this.load();a=this.el.getAttribute(a);b&&b.call(d||this,a?!0:!1,a)},set:function(a,b,d,e){a=c(a);this.el.setAttribute(a,b);this.o.defer||this.save();d&&d.call(e||this,!0,b)},load:function(){this.el.load(c(this.name))},save:function(){this.el.save(c(this.name))}}},cookie:{delim:":",size:4E3,test:function(){return a.Cookie.enabled?!0:!1},
methods:{key:function(a){return this.name+b.cookie.delim+a},get:function(a,b,c,d){a=this.key(a);b=e.get(a);c&&c.call(d||this,b!=null,b)},set:function(a,b,c,d){a=this.key(a);e.set(a,b,this.o);c&&c.call(d||this,!0,b)},remove:function(a,b,c,d){a=this.key(a);b=e.remove(a);c&&c.call(d||this,b!=null,b)}}},flash:{test:function(){return!window.SWFObject||!deconcept||!deconcept.SWFObjectUtil?!1:deconcept.SWFObjectUtil.getPlayerVersion().major>=8?!0:!1},methods:{init:function(){if(!b.flash.el){var a,c,d,e=
C.flash;d=document.createElement("div");d.id=e.div_id;document.body.appendChild(d);a=new SWFObject(this.o.swf_path||e.path,e.id,e.size.w,e.size.h,"8");for(c in e.args)a.addVariable(c,e.args[c]);a.write(d);b.flash.el=document.getElementById(e.id)}this.el=b.flash.el},get:function(a,b,d){a=c(a);a=this.el.get(this.name,a);b&&b.call(d||this,a!==null,a)},set:function(a,b,d,e){a=c(a);this.el.set(this.name,a,b);d&&d.call(e||this,!0,b)},remove:function(a,b,d){a=c(a);a=this.el.remove(this.name,a);b&&b.call(d||
this,!0,a)}}}};d=function(){var c,d,e,h;e=C.methods;var l=C.search_order;for(c=0,d=e.length;c<d;c++)a.Store.prototype[e[c]]=j;a.type=null;a.size=-1;for(c=0,d=l.length;!a.type&&c<d;c++)if(e=b[l[c]],e.test())for(h in a.type=l[c],a.size=e.size,e.methods)a.Store.prototype[h]=e.methods[h];a._init=!0};a={VERSION:"0.1.0",type:null,size:0,add:function(a){b[a.id]=a;C.search_order=[a.id].concat(C.search_order);d()},remove:function(a){var c=C.search_order.indexOf(a);c<0||(C.search_order.splice(c,1),delete b[a],
d())},Cookie:e,Store:function(b,c){if(!C.name_re.exec(b))throw Error("Invalid name");if(!a.type)throw Error("No suitable storage found");c=c||{};this.name=b;c.domain=c.domain||location.hostname||"localhost.localdomain";this.o=c;c.expires=c.expires||730;c.path=c.path||"/";this.init()}};d();return a}()}).call(this);

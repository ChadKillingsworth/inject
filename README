require.ensure
  for each module
    create downloader / download (implicitly uses analyzer)
      oncomplete
      create executor / execute
        oncomplete
        yield to callback
require - amd
  strip builtins
  require.ensure with new list
    oncomplete
    yield to callback
require.run
  require.ensure with no callback
define
  massage params
  resolve moduleId to a path
  collect all deps
  require.ensure those dependencies
    oncomplete
    if cb is object
      executor.storemodule with path
    if cb is func
      executor.createmodule for path
      run func with module
      executor.storemodule with path and module